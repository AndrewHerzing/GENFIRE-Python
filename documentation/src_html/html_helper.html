<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>..//documentation/html_helper</title>
  <meta name="description" content="GENFIRE Documentation">
  <meta name="author" content="Alan (AJ) Pryor, Jr.">  <link rel="stylesheet" href="css/styles.css?v=1.0">
  <link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
<code><font color="orange">def </font>generate_html(filename=None):<br>    #convert source code files into formatted html for documentation<br>    <font color="orange">import </font>sys<br>    <font color="orange">import </font>os<br>    print(filename)<br>    <font color="orange">if </font>not os.path.isfile(filename):<br>        raise NameError("File Not Found")<br><br>    # if filename is None and len(sys.argv)>1:<br>    #     filename=sys.argv[1]<br>    html_filename = os.path.abspath(os.path.splitext(filename)[0]) + '.html'<br>    header_str = """<!doctype html><br><html lang="en"><br><head><br>  <meta charset="utf-8"><br>  <title>""" + os.path.splitext(filename)[0] + """</title><br>  <meta name="description" content="GENFIRE Documentation"><br>  <meta name="author" content="Alan (AJ) Pryor, Jr.">\<br>  <link rel="stylesheet" href="css/styles.css?v=1.0"><br>  <link rel="stylesheet" type="text/css" href="main.css"><br></head><br><body>\n"""<br><br>    closing_str = """</body><br>    </html>"""<br>    print("hs = {}".format(header_str))<br><br>    with open(filename,'r') as fid_source:<br>        with open(html_filename,'w') as fid:<br>            print ("html_filename = " , html_filename)<br>            fid.write(header_str)<br>            fid.write("<code>")<br>            in_comment_flag = 0<br>            for line in fid_source:<br>                if line.lstrip().startswith("#") or in_comment_flag == 1: # then this line is a single line comment and we don't format it<br>                    fid.write(line.replace('\n',"<br>"))<br>                elif "\"\"\"" in line: # ignore formatting on multi-line comments<br>                    fid.write(line.replace('\n',"<br>"))<br>                    in_comment_flag = (in_comment_flag + 1) % 2<br>                else:<br>                    inline_comment_start = line.find("#")<br>                    if inline_comment_start == -1: # no inline comment<br>                        fid.write(code_formatter(line))<br>                    else:<br>                        fid.write(code_formatter(line[:inline_comment_start].replace('\n',"<br>")))<br>                        fid.write(line[inline_comment_start:].replace('\n',"<br>"))<br>            fid.write("</code>")<br>            fid.write(closing_str)<br><br>def code_formatter(string):<br>    # A simple custom HTML code formatter that colors some keywords and tries to avoid instances of them within comments<br>    color_string = "\"orange\""<br>    keywords = ["from", "def","class", "self", "__main__", "for", "if",\<br>                "while","import","else","elif", "True","False", "del"]<br>    short_keywords = keywords[:]<br>    new_keywords = []<br>    for i, v in enumerate(keywords):<br>        keywords[i] = v + " "<br>        new_keywords.append(v + ".")<br>        new_keywords.append(v + "\n")<br>    keywords += new_keywords<br>    format_string = ("<font color=" + color_string + ">", "</font>")<br>    replacers={}<br><br>    for kw in keywords:<br>        replacers[kw] = format_string<br><br>    GENFIRE_format_string = ("<b><font color=" + color_string + ">", "</font></b>")<br>    replacers['GENFIRE'] = GENFIRE_format_string<br>    replacers['genfire'] = GENFIRE_format_string<br><br><br><br>    # replacers={"from":("<font color=" + color_string + ">", "</font>")}<br><br><br><br>    string = string.replace('\t', "&nbsp&nbsp&nbsp&nbsp")<br>    if replacers is not None:<br>        for key, value in replacers.iteritems():<br>            # print (key, value)<br>            string = string.replace(key,value[0] + key + value[1])<br><br>    # for key in short_keywords:<br>    #     if string.endswith(key):<br>    #         string.replace(key, ("<font color=" + color_string + ">" + key+ "</font>") )<br>    string = string.replace('\n',"<br>")<br>    return string<br><br>if __name__=="__main__":<br>    import sys<br>    if len(sys.argv) > 1:<br>        for j in range(1,len(sys.argv)):<br>            generate_html(sys.argv[j])<br>    else:<br>        generate_html("test.py")<br>        </code></body>
    </html>