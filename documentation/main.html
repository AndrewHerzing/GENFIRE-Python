<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>../main</title>
  <meta name="description" content="GENFIRE Documentation">
  <meta name="author" content="Alan (AJ) Pryor, Jr.">  <link rel="stylesheet" href="css/styles.css?v=1.0">
  <link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
<code><font color="green">from</font> PyQt4 <font color="green">import</font> QtCore, QtGui<br><br><font color="green">import</font> GENFIRE_GUI<br><font color="green">import</font> GENFIRE<br><font color="green">import</font> GENFIRE_<font color="green">from</font>_GUI_Input as GENFIRE_Reconstruction<br><font color="green">import</font> os<br><font color="green">class</font> reconstructionParameters():<br>    <font color="green">def</font> __init__(<font color="green">self</font>):<br>        <font color="green">self</font>._projectionFilename = ""<br>        <font color="green">self</font>._angleFilename = ""<br>        <font color="green">self</font>._supportFilename = ""<br>        <font color="green">self</font>._supportedFiletypes = ['.t<font color="green">if</font>','.mrc','.mat']<br><br>    <font color="green">def</font> checkParameters(<font color="green">self</font>):<br>        parametersAreGood = 1<br><br>        projection_extension = os.path.splitext(<font color="green">self</font>._projectionFilename)<br>        <font color="green">if</font> projection_extension not in <font color="green">self</font>._supportedFiletypes:<br>            parametersAreGood = 0<br><br>        angle_extension = os.path.splitext(<font color="green">self</font>._angleFilename)<br>        <font color="green">if</font> angle_extension not in <font color="green">self</font>._supportedFiletypes:<br>            parametersAreGood = 0<br><br>        support_extension = os.path.splitext(<font color="green">self</font>._supportFilename)<br>        <font color="green">if</font> support_extension not in <font color="green">self</font>._supportedFiletypes:<br>            parametersAreGood = 0<br><br>        <font color="green">if</font> <font color="green">self</font>.<br><br><br><br><br>    <font color="green">def</font> setProjectionFilename(<font color="green">self</font>,projectionFilename):<br>        <font color="green">self</font>._projectionFilename = projectionFilename<br>        print("projection filename set to", <font color="green">self</font>._projectionFilename )<br><br>    <font color="green">def</font> getProjectionFilename(<font color="green">self</font>):<br>        return <font color="green">self</font>._projectionFilename<br><br>    <font color="green">def</font> setAngleFilename(<font color="green">self</font>,angleFilename):<br>        <font color="green">self</font>._angleFilename = angleFilename<br><br>    <font color="green">def</font> getAngleFilename(<font color="green">self</font>):<br>        return <font color="green">self</font>._angleFilename<br><br>    <font color="green">def</font> setSupportFilename(<font color="green">self</font>,supportFilename):<br>        <font color="green">self</font>._supportFilename = supportFilename<br><br>    <font color="green">def</font> getSupportFilename(<font color="green">self</font>):<br>        return <font color="green">self</font>._supportFilename<br><br><br><br><br><br><br><font color="green">def</font> selectProjectionFile():<br>    filename = QtGui.QFileDialog.getOpenFileName(dialog, "Select Projection File")<br>    # print("Projection Filename: ",filename)<br>    GENFIRE_reconstructionParameters.setProjectionFilename(unicode(filename.toUtf8(), encoding='UTF-8'))<br><br><font color="green">def</font> selectAngleFile():<br>    filename = QtGui.QFileDialog.getOpenFileName(dialog, "Select Angle File")<br>    # print("Projection Filename: ",filename)<br>    GENFIRE_reconstructionParameters.setAngleFilename(unicode(filename.toUtf8(), encoding='UTF-8'))<br><br><font color="green">def</font> selectSupportFile():<br>    filename = QtGui.QFileDialog.getOpenFileName(dialog, "Select Support File")<br>    # print("Projection Filename: ",filename)<br>    GENFIRE_reconstructionParameters.setSupportFilename(unicode(filename.toUtf8(), encoding='UTF-8'))<br><br><br><font color="green">def</font> listPars():<br>    print("marker", GENFIRE_reconstructionParameters._projectionFilename)<br>    print(GENFIRE_reconstructionParameters._angleFilename)<br>    print(GENFIRE_reconstructionParameters._supportFilename)<br>    GENFIRE_Reconstruction.GENFIRE_<font color="green">from</font>_GUI_Input(GENFIRE_reconstructionParameters.getProjectionFilename()<br>                                   ,GENFIRE_reconstructionParameters.getAngleFilename()<br>                                   ,GENFIRE_reconstructionParameters.getSupportFilename())<br><br><font color="green">def</font> myPrint(texttt):<br>          print(texttt)<br><br><font color="green">def</font> setText(a):<br>    print "triggered"<br>    print a<br><br><font color="green">class</font> myCustomButton(QtGui.QPushButton):<br>    mySignal = QtCore.pyqtSignal('QString')<br>    <font color="green">def</font> __init__(<font color="green">self</font>,text):<br>        super(myCustomButton,<font color="green">self</font>).__init__(text)<br>        print "made the <font color="green">class</font>"<br>        <font color="green">self</font>.mySignal.connect(setText)<br>        <font color="green">self</font>.clicked.connect(<font color="green">self</font>.emitMySignal)<br>    <font color="green">def</font> emitMySignal(<font color="green">self</font>):<br>        a = raw_input("enter something: ")<br>        a = QtCore.QString(a)<br>        <font color="green">self</font>.mySignal.emit(a)<br><br><font color="green">if</font> __name__ == "<font color="green">__main__</font>":<br>    <font color="green">import</font> sys<br>    app = QtGui.QApplication(sys.argv)<br>    dialog = QtGui.QFileDialog()<br>    window = QtGui.QMainWindow()<br>    GF = GENFIRE_GUI.Ui_MainWindow()<br>    GF.setupUi(window)<br><br>    GENFIRE_reconstructionParameters = reconstructionParameters()<br><br>    #connect buttons to setters <font color="green">for</font> filenames<br>    GF.btn_projections.clicked.connect(selectProjectionFile)<br>    GF.btn_angles.clicked.connect(selectAngleFile)<br>    GF.btn_support.clicked.connect(selectSupportFile)<br>    GF.btn_reconstruct.clicked.connect(listPars)<br><br>    # GF.lineEdit.setText(QtCore.QString("bla"))<br>    GF.lineEdit.textEdited.connect(myPrint)<br><br>    # window.pushBtn3 = QtGui.QPushButton('Bla')<br>    # window.pushBtn3.setText(QtCore.QString("bla"))<br>    # window.pushBtn3.move(300,300)<br>    # window.pushBtn3.resize(300,300)<br>    # window.pushBtn3.show()<br>    # GF.pushBtn3 = QtGui.QPushButton('Bla',GF.verticalLayoutWidget)<br>    GF.pushBtn3 = myCustomButton('Bla')<br>    # GF.pushBtn3.setText(QtCore.QString("bla"))<br>    GF.pushBtn3.move(1,1)<br>    GF.pushBtn3.resize(300,300)<br>    # GF.pushBtn3.show()<br>    GF.verticalLayout.addWidget(GF.pushBtn3)<br>    # GF.pushBtn3.show()<br><br>    window.move(25,25)<br>    window.resize(700,500)<br>    window.show()<br>    sys.exit(app.exec_())<br><br><br><br><br><br></code></body>
    </html>